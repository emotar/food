<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<div th:fragment="modal">
		<script inline="javascript">
			$(function() {
				$("#birthday").datepicker({
					'dateFormat': 'yy/mm/dd'
				});
			})

		</script>

		<!-- Modal -->
		<div id="myModal" class="modal fade" role="dialog">
		  <div class="modal-dialog">

		    <!-- Modal content-->
		    <div class="modal-content">
		      <div class="modal-header">
		        <button type="button" class="close" data-dismiss="modal">&times;</button>
		        <h4 class="modal-title">會員註冊</h4>
		      </div>
		      <div class="modal-body">
			<div class="row main">


				<div class="row" data-bind="with: userForm">
					<div class="col-md-2"></div>
					<div class="col-md-8">

					<form class="form-horizontal" method="POST" th:action="@{/user/add}" th:object="${userForm}">
					  <div class="form-group">
					    <label class="control-label col-sm-2" for="username">帳號</label>
					    <div class="col-sm-9">
					      <input type="text" class="form-control" id="username" th:field="*{username}" data-bind="value: username, event: {'blur': foodModule.checkUsernameDuplicate.bind($data, username())}"></input>
					    </div>
					    <div class="col-sm-1">
					    	<img height="20" width="20" data-bind="attr: {src: !$root.isUserExist()? root + 'images/checked.png' : root + 'images/cancel.png'}">
					    </div>
					  </div>
					  <div class="form-group">
					    <label class="control-label col-sm-2" for="password">密碼:</label>
					    <div class="col-sm-10">
					      <input type="password" class="form-control" id="password" th:field="*{password}" data-bind="value: password">
					    </div>
					  </div>
					  <div class="form-group">
					    <label class="control-label col-sm-2" for="password2">密碼確認:</label>
					    <div class="col-sm-10">
					      <input type="password" class="form-control" id="password2" data-bind="value: password2">
					    </div>
					  </div>
					  <div class="form-group">
					    <label class="control-label col-sm-2" for="firstName">姓:</label>
					    <div class="col-sm-10">
					      <input type="text" class="form-control" id="firstName" th:field="*{firstName}" data-bind="value: firstName">
					    </div>
					  </div>
					  <div class="form-group">
					    <label class="control-label col-sm-2" for="lastName">名:</label>
					    <div class="col-sm-10">
					      <input type="text" class="form-control" id="lastName" th:field="*{lastName}" data-bind="value: lastName">
					    </div>
					  </div>
					  <div class="form-group">
					    <label class="control-label col-sm-2" for="birthday">生日:</label>
					    <div class="col-sm-10">
					      <input type="text" class="form-control" id="birthday" th:field="*{birthday}" readonly="readonly" data-bind="value: birthday">
					    </div>
					  </div>
					  <div class="form-group">
					    <label class="control-label col-sm-2" for="pwd">性別:</label>
					    <div class="col-sm-10">
							<label class="radio-inline"><input type="radio" th:field="*{gender}" value='M' data-bind="checked: gender">男</label>
							<label class="radio-inline"><input type="radio" th:field="*{gender}" value='F' data-bind="checked: gender">女</label>
					    </div>
					  </div>
					  <div class="form-group">
					    <label class="control-label col-sm-2" for="mobile">電話:</label>
					    <div class="col-sm-10">
					      <input type="text" class="form-control" id="mobile" th:field="*{mobile}" data-bind="value: mobile">
					    </div>
					  </div>


					  <div class="form-group">
					    <div class="col-sm-offset-5 col-sm-7">
					      <button type="submit" class="btn btn-default" data-bind="click: $root.addUser, enable: !$root.isUserExist()">送出</button>
					    </div>
					  </div>
					</form>
					</div>
					<div class="col-md-2"></div>
				</div>


		      <div class="modal-footer">
		        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
		      </div>
		    </div>

		  </div>
		</div>
	</div>
	</div>
</html>



